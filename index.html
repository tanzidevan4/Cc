<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CC Generator - Dark/Light Mode Final</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet" />
  <style>
    :root {
      --bg: #0f172a;
      --text: #fff;
      --card-bg: rgba(255,255,255,0.1);
      --btn-bg: #06b6d4;
      --btn-text: #000;
      --particle-color: rgba(255,255,255,0.5);
    }
    .light {
      --bg: #ffffff;
      --text: #000;
      --card-bg: rgba(0,0,0,0.05);
      --btn-bg: #000;
      --btn-text: #fff;
      --particle-color: rgba(0,0,0,0.5);
    }
    body {
      font-family: 'Inter', sans-serif;
      background: var(--bg);
      color: var(--text);
      transition: background 0.4s, color 0.4s;
    }
    canvas {
      position: fixed; top: 0; left: 0;
      width: 100%; height: 100%;
      z-index: -1;
    }
    .card {
      background: var(--card-bg);
      backdrop-filter: blur(10px);
    }
    button {
      background: var(--btn-bg);
      color: var(--btn-text);
      font-weight: bold;
      transition: all 0.3s;
    }
    button:hover { opacity: 0.85; }

    /* Table styling fix */
    #ccTableBody td:nth-child(2) {
      font-family: monospace;
      white-space: nowrap;
    }
    ::-webkit-scrollbar { width: 6px; height: 6px; }
    ::-webkit-scrollbar-thumb { background: var(--btn-bg); border-radius: 6px; }
  </style>
</head>
<body class="min-h-screen flex items-center justify-center p-2 relative">

  <canvas id="particles"></canvas>

  <!-- Toggle Button -->
  <button id="modeToggle" class="absolute top-3 right-3 px-3 py-1 rounded-md text-sm shadow-md">Light Mode 🌞</button>

  <div class="card rounded-2xl shadow-2xl p-4 md:p-8 w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-6 items-stretch text-sm">
    
    <!-- LEFT -->
    <div class="flex flex-col justify-between">
      <div>
        <h1 class="text-2xl md:text-3xl font-extrabold text-center mb-6 text-cyan-400">💳 CC Generator</h1>
        <label class="block mb-1 font-semibold">BIN / Pattern:</label>
        <input id="bin" class="w-full mb-3 p-2 rounded bg-white/20 outline-none" placeholder="Enter BIN (x/# placeholders)">

        <div class="flex flex-col sm:flex-row gap-3 mb-3">
          <div class="flex-1">
            <label class="block mb-1 font-semibold">Month:</label>
            <select id="month" class="w-full p-2 rounded bg-white/20 outline-none">
              <option value="random">Random</option>
              <option>01</option><option>02</option><option>03</option><option>04</option>
              <option>05</option><option>06</option><option>07</option><option>08</option>
              <option>09</option><option>10</option><option>11</option><option>12</option>
            </select>
          </div>
          <div class="flex-1">
            <label class="block mb-1 font-semibold">Year:</label>
            <select id="year" class="w-full p-2 rounded bg-white/20 outline-none">
              <option value="random">Random</option>
            </select>
          </div>
        </div>

        <div class="flex flex-col sm:flex-row gap-3 mb-3">
          <div class="flex-1">
            <label class="block mb-1 font-semibold">CVV2:</label>
            <input id="cvv" class="w-full p-2 rounded bg-white/20 outline-none" placeholder="Leave blank for random">
          </div>
          <div class="flex-1">
            <label class="block mb-1 font-semibold">Quantity:</label>
            <input type="number" id="qty" value="10" min="1" max="50" class="w-full p-2 rounded bg-white/20 outline-none">
          </div>
        </div>
      </div>
      <button onclick="generate()" class="w-full py-2 rounded-md">Generate</button>
    </div>

    <!-- RIGHT -->
    <div class="flex flex-col justify-between">
      <div class="flex flex-col flex-1">
        <label class="block text-center mb-2 font-semibold">Generated CC:</label>
        <div class="card rounded-md flex-1 flex flex-col overflow-hidden">
          <table class="w-full text-left">
            <thead class="text-xs uppercase">
              <tr>
                <th class="px-3 py-2 w-[10%]">#</th>
                <th class="px-3 py-2 w-[65%]">Card Details</th>
                <th class="px-3 py-2 text-center w-[25%]">Action</th>
              </tr>
            </thead>
          </table>
          <div class="overflow-y-auto max-h-64 flex-1">
            <table class="w-full text-left">
              <tbody id="ccTableBody" class="divide-y divide-gray-500/30"></tbody>
            </table>
          </div>
        </div>
      </div>

      <div class="flex flex-col sm:flex-row items-center justify-between gap-3 mt-3">
        <button onclick="copyAll()" class="py-2 px-6 rounded-md">COPY ALL</button>
        <div class="flex items-center gap-2">
          <span class="text-xs">Copy CC Only</span>
          <label class="relative inline-block w-12 h-6">
            <input type="checkbox" id="ccOnlyToggle" class="hidden">
            <span class="absolute inset-0 bg-gray-400 rounded-full">
              <span class="absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform toggle-dot"></span>
            </span>
          </label>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast" class="hidden fixed bottom-6 left-1/2 -translate-x-1/2 px-6 py-2 rounded bg-cyan-500 text-black font-bold"></div>

<script>
  // Fill year dropdown
  const yearSelect = document.getElementById('year');
  for (let y = 24; y <= 99; y++) {
    const opt = document.createElement('option');
    opt.value = y; opt.textContent = y;
    yearSelect.appendChild(opt);
  }

  // Toast
  function showToast(msg) {
    const toast = document.getElementById('toast');
    toast.textContent = msg;
    toast.classList.remove('hidden');
    setTimeout(() => toast.classList.add('hidden'), 2000);
  }

  // Card generator logic
  function randomDigit() { return Math.floor(Math.random() * 10); }
  function isValidLuhn(num) {
    let sum = 0, dbl = false;
    for (let i = num.length - 1; i >= 0; i--) {
      let d = parseInt(num[i]); if (dbl) { d *= 2; if (d > 9) d -= 9; }
      sum += d; dbl = !dbl;
    }
    return sum % 10 === 0;
  }
  function generatePattern(pattern, isAmex) {
    let clean = pattern.replace(/\s|-/g,''), len = isAmex?15:16;
    if (clean.length > len) clean = clean.slice(0,len);
    for (let t=0;t<1000;t++) {
      let cand = '';
      for (let ch of clean) cand += /[xX#]/.test(ch)?randomDigit():ch;
      if (cand.length < len) {
        while (cand.length < len-1) cand += randomDigit();
        for (let d=0;d<10;d++) if (isValidLuhn(cand+d)) { cand += d; break; }
      }
      if (cand.length===len && isValidLuhn(cand)) return cand;
    }
    return null;
  }
  function randomNum(len) { return Array.from({length:len},()=>randomDigit()).join(''); }

  function generate() {
    const tbody = document.getElementById('ccTableBody');
    tbody.innerHTML = '';
    const bin = document.getElementById('bin').value.trim();
    if (bin.length<6) return showToast('❌ Pattern must be at least 6 characters!');

    const month = document.getElementById('month').value;
    const year = document.getElementById('year').value;
    const cvv = document.getElementById('cvv').value;
    const qty = parseInt(document.getElementById('qty').value);
    const isAmex = bin.startsWith('3');
    const now = new Date(), cy = now.getFullYear()%100, cm = now.getMonth()+1;
    let output = [];
    for (let i=0;i<qty;i++) {
      let card = generatePattern(bin,isAmex); if (!card) continue;
      let yy, mm;
      if (year==='random') {
        yy = Math.floor(Math.random()*11)+cy;
        mm = (yy===cy)
          ? (month==='random'?String(Math.floor(Math.random()*(12-cm+1)+cm)).padStart(2,'0'):month)
          : (month==='random'?String(Math.floor(Math.random()*12+1)).padStart(2,'0'):month);
      } else {
        yy = year;
        mm = month==='random'?String(Math.floor(Math.random()*12+1)).padStart(2,'0'):month;
      }
      const ccv = cvv===''?randomNum(isAmex?4:3):cvv;
      output.push(`${card}|${mm}|${yy}|${ccv}`);
    }
    output.forEach((line,i)=>{
      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td class="px-3 py-2">${i+1}</td>
        <td class="px-3 py-2">${line}</td>
        <td class="px-3 py-2 text-center">
          <button class="py-1 px-3 rounded-md" onclick="copySingle('${line}')">Copy</button>
        </td>`;
      tbody.appendChild(tr);
    });
    showToast('✅ Cards Generated!');
  }

  function copySingle(line) {
    const only = document.getElementById('ccOnlyToggle').checked;
    const txt = only?line.split('|')[0]:line;
    navigator.clipboard.writeText(txt);
    showToast(only?'📋 Only CC Copied!':'📋 Full Line Copied!');
  }
  function copyAll() {
    const rows = [...document.querySelectorAll('#ccTableBody td:nth-child(2)')];
    if (rows.length===0) return showToast('⚠️ Nothing to copy!');
    const only = document.getElementById('ccOnlyToggle').checked;
    const text = rows.map(td => only?td.textContent.split('|')[0]:td.textContent).join('\n');
    navigator.clipboard.writeText(text);
    showToast(only?'📋 Only CC Numbers Copied!':'📋 All Data Copied!');
  }
</script>

<script>
  // Particle background
  const canvas = document.getElementById('particles');
  const ctx = canvas.getContext('2d');
  let particles = [];
  function resizeCanvas(){canvas.width=innerWidth;canvas.height=innerHeight;}
  window.addEventListener('resize',resizeCanvas);resizeCanvas();
  function createParticles(){particles=[];for(let i=0;i<50;i++){particles.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,r:Math.random()*2+1,dx:(Math.random()-.5)*.5,dy:(Math.random()-.5)*.5});}}
  createParticles();
  function drawParticles(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle = getComputedStyle(document.body).getPropertyValue('--particle-color');
    particles.forEach(p=>{ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fill();p.x+=p.dx;p.y+=p.dy;if(p.x<0||p.x>canvas.width)p.dx*=-1;if(p.y<0||p.y>canvas.height)p.dy*=-1;});
    requestAnimationFrame(drawParticles);
  }
  drawParticles();

  // Dark/Light Mode toggle
  document.getElementById('modeToggle').addEventListener('click',()=>{
    document.body.classList.toggle('light');
    const btn = document.getElementById('modeToggle');
    btn.textContent = document.body.classList.contains('light')?'Dark Mode 🌙':'Light Mode 🌞';
  });
</script>
</body>
</html>
