<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CC Generator - Apple Glass</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet" />
  <style>
    body { font-family: 'Inter', sans-serif; background: #000; color: #fff; overflow-x: hidden; }
    canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -2; }

    /* Main container glass */
    #mainCard {
      background: rgba(255, 255, 255, 0.04);
      backdrop-filter: blur(30px);
      -webkit-backdrop-filter: blur(30px);
      border: 1px solid rgba(255, 255, 255, 0.12);
      box-shadow: 0 8px 32px rgba(0,0,0,0.4);
    }

    /* Inputs and selects */
    #mainCard input, 
    #mainCard select {
      background: rgba(255, 255, 255, 0.06) !important;
      border: 1px solid rgba(255, 255, 255, 0.12);
      color: #fff;
    }
    #mainCard input::placeholder {
      color: rgba(255,255,255,0.5);
    }

    /* Table header and rows */
    #mainCard thead {
      background: rgba(255, 255, 255, 0.05) !important;
    }
    #mainCard tbody tr {
      background: rgba(255,255,255,0.03);
      border-bottom: 1px solid rgba(255,255,255,0.08);
      transition: all 0.3s ease;
    }
    #mainCard tbody tr:hover {
      background: rgba(255,255,255,0.07);
      transform: scale(1.01);
      box-shadow: 0 0 8px rgba(255,255,255,0.15);
    }

    /* Toggle styles */
    .toggle-input:checked + span {
      background: rgba(255, 255, 255, 0.2);
    }
    .toggle-input:checked + span .toggle-dot {
      transform: translateX(1.5rem);
      background: #00ffcc;
      box-shadow: 0 0 12px #00ffcc;
    }
    .toggle-dot {
      transition: all 0.3s ease;
    }

    /* Toast */
    #toast {
      display: flex;
      align-items: center;
      gap: 10px;
      opacity: 0;
      transform: translateY(40px);
      box-shadow: 0 0 20px rgba(255,255,255,0.3);
      background: rgba(255,255,255,0.9);
      color: #000;
    }
    #toast svg { width: 22px; height: 22px; flex-shrink:0; }

    button:hover { transform: scale(1.05); box-shadow: 0 0 12px rgba(255,255,255,0.3); }

    /* Table font size */
    #ccTableBody td:nth-child(2) {
      font-family: monospace;
      white-space: nowrap;
      font-size: 18px;
    }
    @media (max-width: 640px) {
      #ccTableBody td { font-size: 14px; padding: 6px 4px; }
      #ccTableBody td:nth-child(2) { font-size: 12px; }
      thead th { font-size: 12px; padding: 6px 4px; }
    }
  </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4 relative">

  <canvas id="particles"></canvas>

  <!-- Main Card -->
  <div id="mainCard" class="rounded-3xl shadow-2xl p-6 md:p-10 w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-6 opacity-0 translate-y-10">
    
    <!-- LEFT SIDE -->
    <div class="flex flex-col justify-between">
      <div>
        <h1 class="text-3xl md:text-4xl font-extrabold text-center mb-6">ðŸ’³ CC Generator</h1>

        <label class="block mb-2 text-sm font-semibold">BIN / Pattern:</label>
        <input type="text" id="bin" placeholder="Enter BIN or pattern" 
          class="w-full mb-4 p-3 rounded-xl outline-none focus:ring-2 focus:ring-white">

        <div class="flex flex-col sm:flex-row gap-4 mb-4">
          <div class="flex-1">
            <label class="block mb-2 text-sm font-semibold">Month:</label>
            <select id="month" class="w-full p-3 rounded-xl outline-none focus:ring-2 focus:ring-white">
              <option value="random">Random</option>
              <option>01</option><option>02</option><option>03</option><option>04</option>
              <option>05</option><option>06</option><option>07</option><option>08</option>
              <option>09</option><option>10</option><option>11</option><option>12</option>
            </select>
          </div>
          <div class="flex-1">
            <label class="block mb-2 text-sm font-semibold">Year:</label>
            <select id="year" class="w-full p-3 rounded-xl outline-none focus:ring-2 focus:ring-white">
              <option value="random">Random</option>
            </select>
          </div>
        </div>

        <div class="flex flex-col sm:flex-row gap-4 mb-4">
          <div class="flex-1">
            <label class="block mb-2 text-sm font-semibold">CVV2:</label>
            <input type="text" id="cvv" placeholder="Leave blank for random" 
              class="w-full p-3 rounded-xl outline-none focus:ring-2 focus:ring-white">
          </div>
          <div class="flex-1">
            <label class="block mb-2 text-sm font-semibold">Quantity:</label>
            <input type="number" id="qty" value="10" min="1" max="50" 
              class="w-full p-3 rounded-xl outline-none focus:ring-2 focus:ring-white">
          </div>
        </div>
      </div>

      <button onclick="generate()" 
        class="w-full bg-white text-black font-bold rounded-xl py-3 hover:bg-gray-200 transition">Generate</button>
    </div>

    <!-- RIGHT SIDE -->
    <div class="flex flex-col justify-between">
      <div class="flex flex-col flex-1">
        <label class="block mb-2 text-center font-semibold text-sm">Generated CC:</label>

        <div class="rounded-xl flex-1 flex flex-col overflow-hidden">
          <table class="w-full text-left">
            <thead class="text-xs uppercase sticky top-0">
              <tr>
                <th class="px-3 py-3 text-left rounded-tl-lg w-[10%]">#</th>
                <th class="px-3 py-3 text-left w-[65%]">Card Details</th>
                <th class="px-3 py-3 text-center rounded-tr-lg w-[25%]">Action</th>
              </tr>
            </thead>
          </table>
          <div class="overflow-y-auto max-h-64 flex-1">
            <table class="w-full text-left">
              <tbody id="ccTableBody" class="text-lg divide-y divide-white/10"></tbody>
            </table>
          </div>
        </div>
      </div>

      <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mt-4 gap-3">
        <button onclick="copyAll()" 
          class="bg-white text-black font-bold rounded-xl py-3 px-6 hover:bg-gray-200 transition">COPY ALL</button>
        
        <div class="flex items-center justify-center gap-2">
          <span class="text-xs">Copy CC Only</span>
          <label class="relative inline-block w-12 h-6">
            <input type="checkbox" id="ccOnlyToggle" class="toggle-input hidden" />
            <span class="absolute inset-0 rounded-full transition">
              <span class="toggle-dot absolute left-1 top-1 bg-gray-300 w-4 h-4 rounded-full"></span>
            </span>
          </label>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast" class="fixed bottom-6 left-1/2 -translate-x-1/2 px-6 py-3 rounded-xl font-bold">
    <svg id="toastIcon" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg>
    <span id="toastMsg"></span>
  </div>

<script>
  // GSAP card animation
  window.addEventListener("load", () => {
    gsap.to("#mainCard", {opacity:1, y:0, duration:1, ease:"power3.out"});
  });

  // Year select options
  const yearSelect = document.getElementById('year');
  for (let y = 24; y <= 99; y++) {
    const option = document.createElement('option');
    option.value = y.toString();
    option.textContent = y.toString();
    yearSelect.appendChild(option);
  }

  // Toast animation
  function showToast(msg, type="success") {
    const toast = document.getElementById('toast');
    const icon = document.getElementById('toastIcon');
    const msgSpan = document.getElementById('toastMsg');

    if(type==="success") icon.innerHTML = '<polyline points="20 6 9 17 4 12"></polyline>';
    if(type==="error") icon.innerHTML = '<line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>';
    if(type==="warn") icon.innerHTML = '<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line>';

    msgSpan.innerText = msg;

    gsap.killTweensOf(toast);
    gsap.to(toast, {opacity:1, y:0, duration:0.4, ease:"power2.out"});
    gsap.to(toast, {opacity:0, y:40, delay:2, duration:0.6, ease:"power2.in"});
  }

  function randomDigit() { return Math.floor(Math.random() * 10); }
  function isValidLuhn(number) {
    let sum = 0, shouldDouble = false;
    for (let i = number.length - 1; i >= 0; i--) {
      let digit = parseInt(number[i]);
      if (shouldDouble) { digit *= 2; if (digit > 9) digit -= 9; }
      sum += digit; shouldDouble = !shouldDouble;
    }
    return sum % 10 === 0;
  }

  function generatePattern(pattern, isAmex) {
    let cleanPattern = pattern.replace(/\s|-/g, '');
    let targetLength = isAmex ? 15 : 16;
    if (cleanPattern.length > targetLength) cleanPattern = cleanPattern.substring(0, targetLength);

    for (let attempt = 0; attempt < 1000; attempt++) {
      let candidate = "";
      for (let ch of cleanPattern) candidate += /[xX#]/.test(ch) ? randomDigit() : ch;
      if (candidate.length < targetLength) {
        while (candidate.length < targetLength - 1) candidate += randomDigit();
        for (let d = 0; d <= 9; d++) {
          let temp = candidate + d;
          if (isValidLuhn(temp)) { candidate = temp; break; }
        }
      }
      if (candidate.length === targetLength && isValidLuhn(candidate)) return candidate;
    }
    return null;
  }

  function randomNum(length) { return Array.from({ length }, () => randomDigit()).join(''); }

  function generate() {
    const tableBody = document.querySelector("#ccTableBody");
    tableBody.innerHTML = "";

    let pattern = document.getElementById('bin').value.trim();
    let month = document.getElementById('month').value;
    let year = document.getElementById('year').value;
    let cvv = document.getElementById('cvv').value;
    let qty = parseInt(document.getElementById('qty').value);
    let output = [];

    if (pattern.length < 6) { showToast("Pattern must be at least 6 characters!", "error"); return; }

    const isAmex = pattern.startsWith("3");
    const now = new Date();
    const currentYear = now.getFullYear() % 100; 
    const currentMonth = now.getMonth() + 1;

    for (let i = 0; i < qty; i++) {
      let card = generatePattern(pattern, isAmex);
      if (!card) continue;

      let mm, yy;
      if (year === "random") {
        yy = Math.floor(Math.random() * 11) + currentYear;
        mm = (yy === currentYear)
          ? (month === "random" 
              ? String(Math.floor(Math.random() * (12 - currentMonth + 1) + currentMonth)).padStart(2, '0') 
              : month)
          : (month === "random" 
              ? String(Math.floor(Math.random() * 12 + 1)).padStart(2, '0') 
              : month);
      } else {
        yy = year;
        mm = (month === "random") 
          ? String(Math.floor(Math.random() * 12 + 1)).padStart(2, '0') 
          : month;
      }

      let cvvLength = isAmex ? 4 : 3;
      let ccv = (cvv === "") ? randomNum(cvvLength) : cvv;

      output.push(`${card}|${mm}|${yy}|${ccv}`);
    }

    // Animate rows
    output.forEach((line, index) => {
      const row = document.createElement("tr");
      row.innerHTML = `
        <td class="px-3 py-3 w-[10%]">${index + 1}</td>
        <td class="px-3 py-3 w-[65%]">${line}</td>
        <td class="px-3 py-3 text-center w-[25%]">
          <button class="bg-white text-black px-3 py-1 rounded-md hover:bg-gray-200 transition"
            onclick="copySingle('${line}')">Copy</button>
        </td>
      `;
      tableBody.appendChild(row);
      gsap.from(row, {opacity:0, y:20, duration:0.3, delay:index*0.05});
    });

    adjustFontSize();
    showToast("Cards Generated!", "success");
  }

  function copySingle(line) {
    const ccOnly = document.getElementById('ccOnlyToggle').checked;
    const textToCopy = ccOnly ? line.split('|')[0] : line;
    navigator.clipboard.writeText(textToCopy);
    showToast(ccOnly ? "Only CC Number Copied!" : "Full Line Copied!", "success");
  }

  function copyAll() {
    const ccOnly = document.getElementById('ccOnlyToggle').checked;
    const lines = [...document.querySelectorAll("#ccTableBody tr td:nth-child(2)")]
      .map(td => td.textContent);
    if (lines.length === 0) { showToast("Nothing to copy!", "warn"); return; }
    const textToCopy = ccOnly ? lines.map(line => line.split('|')[0]).join('\n') : lines.join('\n');
    navigator.clipboard.writeText(textToCopy);
    showToast(ccOnly ? "Only CC Numbers Copied!" : "All Data Copied!", "success");
  }

  function adjustFontSize() {
    const rows = document.querySelectorAll("#ccTableBody tr td:nth-child(2)");
    rows.forEach(cell => {
      if (window.innerWidth < 640) cell.style.fontSize = "12px";
      else cell.style.fontSize = "18px";
    });
  }
  window.addEventListener("resize", adjustFontSize);

  // Particle background
  const canvas = document.getElementById('particles');
  const ctx = canvas.getContext('2d');
  let particles = [];
  function resizeCanvas() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
  window.addEventListener('resize', resizeCanvas); resizeCanvas();
  function createParticles() {
    particles = [];
    for (let i = 0; i < 50; i++) {
      particles.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        radius: Math.random() * 2 + 1,
        dx: (Math.random() - 0.5) * 0.5,
        dy: (Math.random() - 0.5) * 0.5
      });
    }
  }
  createParticles();
  function drawParticles() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    particles.forEach(p => {
      ctx.beginPath();
      ctx
