<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Realistic Profile Generator</title>
  <style>
    body { background:#121212; color:#eee; font-family:sans-serif; display:flex; align-items:center; justify-content:center; min-height:100vh; padding:20px;}
    .card { background:#1e1e1e; padding:20px; border-radius:10px; width:100%; max-width:500px;}
    select, button { width:100%; padding:10px; margin-top:10px; background:#292929; color:#eee; border:none; border-radius:6px;}
    button { cursor:pointer; background:#00aced; color:#000; font-weight:bold;}
    button:hover { background:#0084b4;}
    .info p { margin:8px 0; }
  </style>
  <script src="https://unpkg.com/@faker-js/faker@9.0.0/dist/faker.umd.min.js"></script>
</head>
<body>
  <div class="card">
    <h2>Realistic Profile Generator</h2>
    <select id="country">
      <option value="">-- Select Country --</option>
      <option value="us">United States</option>
      <option value="ca">Canada</option>
      <option value="gb">United Kingdom</option>
      <option value="in">India</option>
      <option value="bd">Bangladesh</option>
    </select>
    <button id="generateBtn">Generate Profile</button>
    <button id="copyBtn">Copy All</button>
    <div class="info" id="infoBox">
      <p><strong>Name:</strong> -</p>
      <p><strong>Street:</strong> -</p>
      <p><strong>City:</strong> -</p>
      <p><strong>State:</strong> -</p>
      <p><strong>Zip:</strong> -</p>
      <p><strong>Phone:</strong> -</p>
      <p><strong>Email:</strong> -</p>
    </div>
  </div>

<script>
  const countrySelect = document.getElementById('country');
  const infoBox = document.getElementById('infoBox');
  const btn = document.getElementById('generateBtn');
  const copyBtn = document.getElementById('copyBtn');
  const fakerInstance = window.faker;

  const localeMap = {
    us: 'en_US',
    ca: 'en_CA',
    gb: 'en_GB',
    in: 'en_IND' // faker doesn't have en_IN in new version, IND is fallback
  };

  async function generate() {
    const code = countrySelect.value;
    if (!code) { alert('Select a country first'); return; }

    // sample zip (for demo), real API call will use it
    const sampleZip = code === 'us' ? '90210' :
                      code === 'ca' ? 'M5H' :
                      code === 'gb' ? 'SW1A' :
                      code === 'in' ? '110001' :
                      '1000';

    const api = `https://api.zippopotam.us/${code}/${sampleZip}`;
    try {
      const res = await fetch(api);
      if (!res.ok) throw new Error('No data found');
      const data = await res.json();
      const place = data.places[Math.floor(Math.random() * data.places.length)];

      // Set locale if available
      const locale = localeMap[code] || 'en';
      try {
        fakerInstance.setLocale(locale);
      } catch {
        fakerInstance.setLocale('en');
      }

      // Name & Address generate
      const name = fakerInstance.person.fullName();
      const street = fakerInstance.location.streetAddress();
      const city = place['place name'];
      const state = place.state;
      const zip = place['post code'];
      let phone;

      if (code === 'bd') {
        // Bangladesh fallback phone
        phone = `+8801${Math.floor(Math.random()*9)}${Math.floor(10000000+Math.random()*90000000)}`;
      } else {
        phone = fakerInstance.phone.number({ style: 'international' });
      }

      const email = fakerInstance.internet.email();

      infoBox.innerHTML = `
        <p><strong>Name:</strong> ${name}</p>
        <p><strong>Street:</strong> ${street}</p>
        <p><strong>City:</strong> ${city}</p>
        <p><strong>State:</strong> ${state}</p>
        <p><strong>Zip:</strong> ${zip}</p>
        <p><strong>Phone:</strong> ${phone}</p>
        <p><strong>Email:</strong> ${email}</p>`;
    } catch (e) {
      alert('Failed to fetch location: ' + e.message);
    }
  }

  btn.addEventListener('click', generate);
  copyBtn.addEventListener('click', () => {
    navigator.clipboard.writeText(infoBox.innerText).then(() => alert('Copied!'));
  });
</script>
</body>
</html>
